## 硅谷live以太坊智能合约 第二课作业
这里是同学提交作业的目录

### 第二课：课后作业
完成今天的智能合约添加100ETH到合约中

#### 加入十个员工，每个员工的薪水都是1ETH，每次加入一个员工后调用calculateRunway这个函数，并且记录消耗的gas是多少？Gas变化么？如果有，为什么？

> 有变化。每次添加员工调用calculateRunway后，transaction cost 和 execution cost 都会增加一个定值如下图。原因是因为每次添加员工后，Employee数组变成，calculateRunway每次循环多计算一次。

|调用次数| transaction cost | execution cost|
| ------ | ------ | ------ |
|1| 22966 | 1694 |
|2| 23747 | 2475 |
|3| 24528 | 3256 |
|4| 25309 | 4037 |
|5| 26090 | 4818 |
|6| 26871 | 5599 |
|7| 27652 | 6380 |
|8| 28433 | 7161 |
|9| 29214 | 7942 |
|10| 29995 | 8723 |

#### 如何优化calculateRunway这个函数来减少gas的消耗？

> 可以通过将totalSalary改为全局变量来优化，每次增加删除或更新员工信息时改变totalSalary, 这样可以省去calculateRunway的循环运算。优化后的gas如下表。

|调用次数| transaction cost | execution cost|
| ------ | ------ | ------ |
|1| 22124 | 852 |
|2| 22124 | 852 |
|3| 22124 | 852 |
|4| 22124 | 852 |
|5| 22124 | 852 |
|6| 22124 | 852 |
|7| 22124 | 852 |
|8| 22124 | 852 |
|9| 22124 | 852 |
|10| 22124 | 852 |

