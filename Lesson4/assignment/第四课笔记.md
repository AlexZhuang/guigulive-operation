





要部署一个合约，需要在migrations里修改 2_deploy_contracts.js文件
```
var SimpleStorage = artifacts.require("./SimpleStorage.sol");
var Payroll = artifacts.require("./Payroll.sol");

module.exports = function(deployer) {
  deployer.deploy(SimpleStorage);
  deployer.deploy(Payroll);
};
```

写了一个单元测试，通过
```
var Payroll = artifacts.require("./Payroll.sol");

contract('Payroll', function(accounts) {

  it("add employee ", function() {
    return Payroll.deployed().then(function(instance) {
      payrollInstance = instance;

      return payrollInstance.addEmployee(accounts[1], 20, {from: accounts[0]});
    }).then(function() {
      return payrollInstance.isEmployeeExist.call(accounts[1]);
    }).then(function(v) {
      assert.equal(v, true, "the second employee should be exist");
    });
  });
});
```

在源代码中增加了一个helper函数，据说solidity中无法直接测试mapping类型
```
    function isEmployeeExist(address employeeId) returns(bool)   {
        var employee = employees[employeeId];
        return (employee.id != 0x0);
    }
```
